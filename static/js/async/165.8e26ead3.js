"use strict";(self.webpackChunkew_auto_import_tool_docs=self.webpackChunkew_auto_import_tool_docs||[]).push([["165"],{3660:function(e,n,r){r.r(n),r.d(n,{default:()=>o});var i=r(2676),c=r(453);function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",code:"code",strong:"strong",pre:"pre",ul:"ul",li:"li",ol:"ol"},(0,c.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"project-checker",children:["Project Checker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#project-checker",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Project Checker module is responsible for analyzing the project structure and verifying compatibility with the selected component library. It provides functions to check if the current directory contains a valid Vue project and to identify the project's configuration files."}),"\n",(0,i.jsxs)(n.h2,{id:"api-reference",children:["API Reference",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api-reference",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"checkproject",children:[(0,i.jsx)(n.code,{children:"checkProject"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#checkproject",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Signature:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"function checkProject(\n  options: CheckProjectOptions\n): Promise<CheckProjectResult>;\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"options: CheckProjectOptions"})," - Configuration options for project checking","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"path?: string"})," - The path to the project directory (defaults to current directory)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"library?: string"})," - The component library to check compatibility with"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Promise<CheckProjectResult>"})," - A promise that resolves to the check result","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"isVueProject: boolean"})," - Whether the directory contains a Vue project"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"hasViteConfig: boolean"})," - Whether the project has a Vite configuration file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"hasTsConfig: boolean"})," - Whether the project has a TypeScript configuration file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"viteConfigPath?: string"})," - The path to the Vite configuration file (if found)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"tsConfigPath?: string"})," - The path to the TypeScript configuration file (if found)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"packageManager: 'npm' | 'yarn' | 'pnpm'"})," - The detected package manager"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import { checkProject } from "ew-auto-import-tool";\n\nasync function analyzeProject() {\n  const result = await checkProject({\n    path: "./my-vue-project",\n    library: "element-plus",\n  });\n\n  if (result.isVueProject) {\n    console.log("Valid Vue project detected!");\n    console.log(`Package manager: ${result.packageManager}`);\n    console.log(`Vite config: ${result.viteConfigPath}`);\n    console.log(`TS config: ${result.tsConfigPath}`);\n  } else {\n    console.log("Not a valid Vue project");\n  }\n}\n\nanalyzeProject();\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"implementation-details",children:["Implementation Details",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#implementation-details",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Project Checker performs the following checks:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Vue Project Detection"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Checks for the presence of ",(0,i.jsx)(n.code,{children:"vue"})," in package.json dependencies"]}),"\n",(0,i.jsx)(n.li,{children:"Verifies the existence of key Vue project files"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Configuration File Detection"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Searches for Vite configuration files (vite.config.js/ts)"}),"\n",(0,i.jsx)(n.li,{children:"Searches for TypeScript configuration files (tsconfig.json)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Package Manager Detection"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Detects whether the project uses npm, yarn, or pnpm based on lock files"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"source-code-analysis",children:["Source Code Analysis",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#source-code-analysis",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The Project Checker uses the ",(0,i.jsx)(n.code,{children:"fs-extra"})," library to check for file existence and read package.json. It follows these steps:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Check if the specified path exists and is a directory"}),"\n",(0,i.jsx)(n.li,{children:"Read and parse the package.json file to verify Vue dependency"}),"\n",(0,i.jsx)(n.li,{children:"Look for configuration files using pattern matching"}),"\n",(0,i.jsx)(n.li,{children:"Determine the package manager by checking for lock files"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Simplified implementation\nasync function checkProject(\n  options: CheckProjectOptions\n): Promise<CheckProjectResult> {\n  const projectPath = options.path || process.cwd();\n\n  // Check if directory exists\n  if (!fs.existsSync(projectPath) || !fs.statSync(projectPath).isDirectory()) {\n    throw new Error(`Invalid project path: ${projectPath}`);\n  }\n\n  // Read package.json\n  const packageJsonPath = path.join(projectPath, "package.json");\n  const hasPackageJson = fs.existsSync(packageJsonPath);\n\n  let isVueProject = false;\n  if (hasPackageJson) {\n    const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, "utf-8"));\n    isVueProject =\n      !!packageJson.dependencies?.vue || !!packageJson.devDependencies?.vue;\n  }\n\n  // Find configuration files\n  const viteConfigPath = findViteConfig(projectPath);\n  const tsConfigPath = findTsConfig(projectPath);\n\n  // Detect package manager\n  const packageManager = detectPackageManager(projectPath);\n\n  return {\n    isVueProject,\n    hasViteConfig: !!viteConfigPath,\n    hasTsConfig: !!tsConfigPath,\n    viteConfigPath,\n    tsConfigPath,\n    packageManager,\n  };\n}\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"error-handling",children:["Error Handling",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#error-handling",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Project Checker includes robust error handling to provide clear feedback when issues are encountered:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Invalid project path errors"}),"\n",(0,i.jsx)(n.li,{children:"Package.json parsing errors"}),"\n",(0,i.jsx)(n.li,{children:"Missing required dependencies"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"These errors are propagated to the caller with descriptive messages to help users troubleshoot issues."}),"\n",(0,i.jsxs)(n.h2,{id:"related-modules",children:["Related Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#related-modules",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/en/api/dependency-manager",children:"Dependency Manager"})," - Uses Project Checker results to install required dependencies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/en/api/vite-config-manager",children:"Vite Config Manager"})," - Uses the detected Vite configuration path"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/en/api/ts-config-manager",children:"TypeScript Config Manager"})," - Uses the detected TypeScript configuration path"]}),"\n"]})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,c.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(s,{...e})}):s(e)}let o=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["en%2Fapi%2Fproject-checker.md"]={toc:[{text:"API Reference",id:"api-reference",depth:2},{text:"`checkProject`",id:"checkproject",depth:3},{text:"Implementation Details",id:"implementation-details",depth:2},{text:"Source Code Analysis",id:"source-code-analysis",depth:2},{text:"Error Handling",id:"error-handling",depth:2},{text:"Related Modules",id:"related-modules",depth:2}],title:"Project Checker",headingTitle:"Project Checker",frontmatter:{}}}}]);